{"version":3,"sources":["redux/reducer.js","ui/AddItem.js","ui/ListTask.js","ui/ListTasks.js","ui/TodoList.js","ui/Navigation.js","App.js","redux/store.js","index.js"],"names":["initialState","localStorage","getItem","JSON","parse","lists","id","title","tasks","isDone","reducer","state","action","type","nextListId","length","newList","filter","list","listId","map","index","nextId","newTask","task","taskId","dataObj","AddItem","newTitle","inputError","resetInputError","setState","enterItemTitle","e","currentTarget","value","addItem","props","addItemOnKey","key","inputErrorClass","this","placeHolder","className","onChange","onKeyPress","onBlur","placeholder","onClick","React","Component","connect","dispatch","deleteTask","deleteTaskAC","updateTask","updateTaskAC","checked","ListTasks","TodoList","deleteList","addTask","deleteListAC","addTaskAC","Navigation","listsLinks","linkData","link","to","addList","addListAC","routeLists","path","render","allLists","exact","store","createStore","composeWithDevTools","ReactDOM","document","getElementById","subscribe","setItem","stringify","getState"],"mappings":"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","file":"static/js/main.6f16fffb.chunk.js","sourcesContent":["\r\nconst addListAC = (title) => {\r\n   return {\r\n      type: 'ADD-LIST',\r\n      title\r\n   }\r\n}\r\n\r\nconst deleteListAC = (listId) => {\r\n   return {\r\n      type: 'DELETE-LIST',\r\n      listId\r\n   }\r\n}\r\n\r\nconst addTaskAC = (title, listId) => {\r\n   return {\r\n      type: 'ADD-TASK',\r\n      listId,\r\n      title\r\n   }\r\n}\r\n\r\nconst deleteTaskAC = (listId, taskId) => {\r\n   return {\r\n      type: 'DELETE-TASK',\r\n      listId,\r\n      taskId\r\n   }\r\n}\r\n\r\nconst updateTaskAC = (listId, taskId, dataObj) => {\r\n   return {\r\n      type: 'UPDATE-TASK',\r\n      listId,\r\n      taskId,\r\n      dataObj\r\n   }\r\n}\r\n\r\nconst initialState = localStorage.getItem('TrainList') !== null\r\n   ? JSON.parse(localStorage.getItem('TrainList'))\r\n   : {\r\n      lists: [{ id: 0, title: 'Спорт', tasks: [{ id: 1, title: 'Прыг', isDone: false }] },\r\n      { id: 1, title: 'Здоровье', tasks: [{ id: 1, title: 'Скок', isDone: false }] }]\r\n   };\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\r\n   switch (action.type) {\r\n\r\n      case 'ADD-LIST':\r\n         const nextListId = state.lists.length;\r\n         const newList = { id: nextListId, title: action.title, tasks: [] };\r\n         return {\r\n            ...state,\r\n            lists: [...state.lists, newList]\r\n         }\r\n      \r\n      case 'DELETE-LIST':\r\n         return {\r\n            ...state,\r\n            lists: state.lists.filter( (list) => list.id !== action.listId )\r\n                  .map( (list, index) => ({ ...list, id: index }) )\r\n         }\r\n\r\n      case 'ADD-TASK':\r\n         const nextId = state.lists[action.listId].tasks.length + 1;\r\n         const newTask = { id: nextId, title: action.title, isDone: false };\r\n         return {\r\n            ...state,\r\n            lists: state.lists.map((list) => {\r\n               return (\r\n                  (list.id === action.listId)\r\n                     ? { ...list, tasks: [...list.tasks, newTask] }\r\n                     : list\r\n               )\r\n            })\r\n         }\r\n\r\n      case 'DELETE-TASK':\r\n         return {\r\n            ...state,\r\n            lists: state.lists.map((list) => {\r\n               if (list.id === action.listId) {\r\n                  return {\r\n                     ...list,\r\n                     tasks: list.tasks.filter((task) => task.id !== action.taskId)\r\n                        .map((task, index) => ({ ...task, id: index + 1 }))\r\n                  }\r\n               } else return list\r\n            })\r\n\r\n         }\r\n\r\n      case 'UPDATE-TASK':\r\n         return {\r\n            ...state,\r\n            lists: state.lists.map((list) => {\r\n               if (list.id === action.listId) {\r\n                  return {\r\n                     ...list,\r\n                     tasks: list.tasks.map((task) => {\r\n                        if (task.id === action.taskId) {\r\n                           return { ...task, ...action.dataObj }\r\n                        } else return task\r\n                     })\r\n                  }\r\n               } else return list\r\n            })\r\n         }\r\n\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport default reducer;\r\nexport { addListAC, deleteListAC, addTaskAC, deleteTaskAC, updateTaskAC };","import React from 'react';\r\n\r\n\r\nclass AddItem extends React.Component {\r\n\r\n    state = {\r\n        newTitle: '',\r\n        inputError: false\r\n    }\r\n\r\n    resetInputError = () => {\r\n        if (this.state.inputError === true) {\r\n            this.setState({ inputError: false })\r\n        }\r\n    }\r\n\r\n    enterItemTitle = (e) => {\r\n        this.resetInputError();\r\n        this.setState({ newTitle: e.currentTarget.value })\r\n    }\r\n\r\n    addItem = () => {\r\n        if (this.state.newTitle === '') {\r\n            this.setState({ inputError: true })\r\n        } else {\r\n            this.props.addItem(this.state.newTitle, this.props.listId)\r\n            this.setState({ newTitle: '' })\r\n        }\r\n    }\r\n\r\n    addItemOnKey = (e) => {\r\n        if (e.key === 'Enter') this.addItem()\r\n    }\r\n\r\n    render() {\r\n        const inputErrorClass = this.state.inputError === true ? 'inputError' : '';\r\n        const {placeHolder} = this.props;\r\n        \r\n        return (\r\n            <div className='addItem'>\r\n                <input\r\n                    onChange={this.enterItemTitle}\r\n                    value={this.state.newTitle}\r\n                    onKeyPress={this.addItemOnKey}\r\n                    className={inputErrorClass}\r\n                    onBlur={this.resetInputError}\r\n                    placeholder={placeHolder} />\r\n                <button onClick={this.addItem} >+</button>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\n\r\nexport default AddItem;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteTaskAC, updateTaskAC } from '../redux/reducer';\r\n\r\n\r\nconst ListTask = (props) => {\r\n    const {task, listId} = props;\r\n    const deleteTask = () => props.deleteTask(listId, task.id);\r\n        const updateTask = (e) => props.updateTask(listId, task.id, { isDone: e.currentTarget.checked }); \r\n        return (\r\n            <li key={task.id} >\r\n                <input\r\n                    type='checkbox'\r\n                    checked={task.isDone}\r\n                    onClick={updateTask} \r\n                />\r\n                {task.title} &nbsp;\r\n                <button onClick={deleteTask} className='deleteTask'>X</button>\r\n            </li>\r\n        )\r\n}\r\n\r\nconst mapDipatchToProps = (dispatch) => {\r\n    return {\r\n        deleteTask: (listId, taskId) => dispatch( deleteTaskAC(listId, taskId) ),\r\n        updateTask: (listId, taskId, dataObj) => dispatch( updateTaskAC(listId, taskId, dataObj) )\r\n        }\r\n    }\r\n\r\n\r\nexport default connect(null, mapDipatchToProps)(ListTask);","import React from 'react';\r\nimport ListTask from './ListTask';\r\n\r\n\r\nconst ListTasks = (props) => {\r\n    \r\n    \r\n    const task = props.tasks.map((task) => <ListTask listId={props.listId} task={task} /> )\r\n    return (\r\n        <ul className='tasks'>\r\n            {task}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ListTasks;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteListAC, addTaskAC } from '../redux/reducer';\r\nimport AddItem from './AddItem';\r\nimport ListTasks from './ListTasks';\r\n\r\nclass TodoList extends React.Component {\r\n\r\n    deleteList = () => {\r\n        this.props.deleteList(this.props.list.id)\r\n    }\r\n\r\n    render() {\r\n        const { list } = this.props;\r\n\r\n        return (\r\n            <div className='todoList'>\r\n                <h2> {list.title} &nbsp;\r\n                    <button className='deleteList' onClick = {this.deleteList}>X</button>\r\n                </h2>\r\n                <AddItem listId={list.id} addItem={this.props.addTask} placeHolder='add task'/>\r\n                <ListTasks tasks={list.tasks} listId={list.id} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        deleteList: (listId) => {\r\n            const action = deleteListAC(listId);\r\n            dispatch(action);\r\n        },\r\n        addTask: (title, listId) => {\r\n            const action = addTaskAC(title, listId);\r\n            dispatch(action);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(TodoList);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navigation = ( { linkData } ) => {\r\n \r\nconst listsLinks = linkData.map( (link) => {\r\n    return (\r\n        <NavLink to={`list ${link.id}`}  >{link.title}</NavLink> \r\n        ) }\r\n    )\r\n    return (\r\n        <nav className='app_navigation'>\r\n            {listsLinks}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\nimport { Route, NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './App.css';\nimport TodoList from \"./ui/TodoList\";\nimport AddItem from './ui/AddItem';\nimport { addListAC } from './redux/reducer'\nimport Navigation from './ui/Navigation';\n\nfunction App(props) {\n   const { lists } = props;\n\n   const routeLists = lists.map((list) => \n      <Route path={ `/list ${list.id}` } render={ () => <TodoList list={list} key={list.id} /> } />)\n   \n   const allLists = lists.map( (list) => <TodoList list={list} key={list.id} /> )\n   const linkData = lists.map( (list) => ({ id: list.id, title: list.title }) )\n\n   return (\n      <div className=\"App\">\n         <NavLink to='/' exact><h2>Планировщик задач</h2></NavLink>\n         <AddItem addItem={props.addList} placeHolder='add list'/>\n         <Navigation linkData={linkData} />\n         <Route path='/' exact render={ () => ( <div className='todoLists'>{allLists}</div> ) } />\n         <div className='todoLists'>\n            {routeLists}\n         </div>\n      </div>\n   );\n}\n\n\nconst mapStateToProps = (state) => {\n   return {\n      lists: state.lists\n   }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n   return {\n      addList: (title) => {\n         const action = addListAC(title);\n         dispatch(action);\n      }\n   }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport reducer from './reducer';\r\n\r\nconst store = createStore(reducer, composeWithDevTools());\r\n\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from './redux/store';\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store = { store } >\n            <App />\n        </Provider>\n    </BrowserRouter>, document.getElementById('root'));\n\nstore.subscribe( () => {\n    localStorage.setItem( 'TrainList', JSON.stringify( store.getState() ) )\n} )\n\n"],"sourceRoot":""}